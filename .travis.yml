matrix:
  fast_finish: true
os: linux
virt: lxd
python:
  # - '2.7' # Python 2.7 is end of life
  - '3.6'
  - '3.7'
  - '3.8'
  - '3.9'
  # - '3.10' # 3.10 not a target on TravisCI yet
  # - pypy  # This no longer builds
  - pypy3
env:
  - EXTRAS=
  - EXTRAS=configargparse
language: python
# This might be required for building at some point since TravisCI's PyPI is
# out of date
# before_install:
#   - python -m pip install --upgrade pip
#   - python -m pip install --upgrade virtualenv
install:
  - pip install .
  - pip install coveralls coverage bson mock $EXTRAS
script: coverage run --source=pytool -m pytest -vv
after_success: coveralls
